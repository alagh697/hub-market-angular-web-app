<!-- features/checkout/cart/cart.component.html -->
<section class="max-w-5xl mx-auto p-4 md:p-6">
  <h1 class="text-2xl md:text-3xl font-bold mb-6">Mon panier</h1>

  @if (cart()?.length === 0) {
    <div class="text-gray-500">Votre panier est vide.</div>
  } @else {
    <div class="grid gap-4">
      @for (p of cart(); track trackById(p)) {
        <app-cart-item [product]="p" (remove)="onRemove($event)"></app-cart-item>
      }
    </div>

    <div class="mt-6 flex flex-col items-end gap-3">
      <div class="text-lg">
        Total :
        <span class="font-semibold">{{ total() | currency:'EUR' }}</span>
      </div>
      <div class="flex gap-3">
        <button
          type="button"
          class="px-4 py-2 rounded-md border hover:bg-gray-50"
          (click)="clear()">
          Vider le panier
        </button>
        <a
          routerLink="/checkout"
          class="px-4 py-2 rounded-md bg-black text-white hover:opacity-90">
          Passer au paiement
        </a>
      </div>
    </div>
  }
</section>
